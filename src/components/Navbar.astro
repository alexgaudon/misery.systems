---
interface Props {
  currentPath?: string;
}

const { currentPath = "/" } = Astro.props;

const navItems = [
  { href: "/", label: "Home", section: "General" },
  { href: "/about", label: "About", section: "General" },
  { href: "/services", label: "Services", section: "General" },
];

const currentSection = navItems.find(item => item.href === currentPath)?.section || "General";
---

<nav class="sidebar" id="sidebar">
  <button class="sidebar-close" id="sidebarClose" aria-label="Close menu">Ã—</button>
  <a href="/" class="site-title">misery.systems</a>

  <div class="nav-links">
    <div class="nav-section-title">General</div>
    <a href="/" class:list={["nav-link", { active: currentPath === "/" }]}>
      Home
    </a>
    <a href="/about" class:list={["nav-link", { active: currentPath === "/about" }]}>
      About
    </a>
    <a href="/services" class:list={["nav-link", { active: currentPath === "/services" }]}>
      Services
    </a>
  </div>

  <div class="nav-links" style="margin-top: auto; padding-top: 2rem;">
    <div class="nav-section-title">Quick Links</div>
    <a href="https://github.com/AlexGaudon" target="_blank" rel="noopener noreferrer" class="nav-link">
      GitHub
    </a>
    <a href="https://alexgaudon.dev" target="_blank" rel="noopener noreferrer" class="nav-link">
      Main Site
    </a>
  </div>
</nav>

<header class="mobile-header">
  <a href="/" class="site-title" style="margin: 0;">misery.systems</a>
  <button class="mobile-menu-btn" id="mobileMenuBtn">Menu</button>
</header>
